{"version":3,"sources":["clientdash-inpreview.min.js"],"names":["cd_customize_links","e","links","document","getElementsByTagName","i","len","length","onclick","event","preventDefault","node","target","href","parentNode","window","parent","postMessage","id","link","ClientDashCustomizeInPreview_Data","domain","cd_customize_overlay","content","getElementById","cover","createElement","cover_text","className","innerHTML","appendChild","cd_customize_forms","forms","addEventListener","cd_customize_forms_prevent_submit"],"mappings":"AAKA,QAASA,oBAAmBC,GAIxB,IAAK,GAFDC,GAAQC,SAASC,qBAAqB,KAEjCC,EAAI,EAAGC,EAAMJ,EAAMK,OAAQF,EAAIC,EAAKD,IAEzCH,EAAMG,GAAGG,QAAU,SAAUC,GAEzBA,EAAMC,gBAKN,KAFA,GAAIC,GAAOF,EAAMG,OAEVD,IAASA,EAAKE,MAEjBF,EAAOA,EAAKG,UAGhB,SAAKH,EAAKE,OAKVE,OAAOC,OAAOC,aACVC,GAAI,oCACJC,KAAMR,EAAKE,MACZO,kCAAkCC,SAE9B,IAUnB,QAASC,wBAEL,GAAIC,GAAUpB,SAASqB,eAAe,UAClCC,EAAQtB,SAASuB,cAAc,OAC/BC,EAAaxB,SAASuB,cAAc,MAExCD,GAAMP,GAAK,6BACXS,EAAWC,UAAY,kCACvBD,EAAWE,UAAYT,kCAAwC,KAAgB,aAE/EK,EAAMK,YAAYH,GAClBJ,EAAQO,YAAYL,GAQxB,QAASM,sBAEL,IAAK,GAAI1B,GAAI,EAAGA,EAAIF,SAAS6B,MAAMzB,OAAQF,IAAK,CAEjCF,SAAS6B,MAAM3B,GAErB4B,iBAAiB,SAAUC,mCAAmC,IAY3E,QAASA,mCAAkCzB,GAOvC,MALAM,QAAOC,OAAOC,aACVC,GAAI,oCACLE,kCAAkCC,QAErCZ,EAAMC,kBACC,EAGXP,SAAS8B,iBAAiB,mBAAoBjC,oBAAoB,GAClEG,SAAS8B,iBAAiB,mBAAoBX,sBAAsB,GACpEnB,SAAS8B,iBAAiB,mBAAoBF,oBAAoB","file":"clientdash-inpreview.min.js","sourcesContent":["/**\n * Loads on page-load for inside the customize preview iframe.\n *\n * @since {{VERSION}}\n */\nfunction cd_customize_links(e) {\n\n    var links = document.getElementsByTagName('a');\n\n    for (var i = 0, len = links.length; i < len; i++) {\n\n        links[i].onclick = function (event) {\n\n            event.preventDefault();\n\n            // Try to get nearest link if clicked item isn't a link (nested)\n            var node = event.target\n\n            while (node && !node.href) {\n\n                node = node.parentNode\n            }\n\n            if (!node.href) {\n\n                return false;\n            }\n\n            window.parent.postMessage({\n                id: 'cd_customize_preview_link_clicked',\n                link: node.href\n            }, ClientDashCustomizeInPreview_Data.domain);\n\n            return false;\n        }\n    }\n}\n\n/**\n * Adds a \"protective\" overlay to non-dashboard pages to signal user that it is only a preview.\n *\n * @since {{VERSION}}\n */\nfunction cd_customize_overlay() {\n\n    var content = document.getElementById('wpwrap');\n    var cover = document.createElement('div');\n    var cover_text = document.createElement('div');\n\n    cover.id = 'cd-customize-preview-cover';\n    cover_text.className = 'cd-customize-preview-cover-text';\n    cover_text.innerHTML = ClientDashCustomizeInPreview_Data['l10n']['preview_only'];\n\n    cover.appendChild(cover_text);\n    content.appendChild(cover);\n}\n\n/**\n * Deal with forms.\n *\n * @since {{VERSION}}\n */\nfunction cd_customize_forms() {\n\n    for (var i = 0; i < document.forms.length; i++) {\n\n        var form = document.forms[i];\n\n        form.addEventListener('submit', cd_customize_forms_prevent_submit, false);\n    }\n}\n\n/**\n * Prevent forms from submitting.\n *\n * @since {{VERSION}}\n *\n * @param event\n * @returns {boolean}\n */\nfunction cd_customize_forms_prevent_submit(event) {\n\n    window.parent.postMessage({\n        id: 'cd_customize_preview_form_submit'\n    }, ClientDashCustomizeInPreview_Data.domain);\n\n    event.preventDefault();\n    return false;\n}\n\ndocument.addEventListener('DOMContentLoaded', cd_customize_links, false);\ndocument.addEventListener('DOMContentLoaded', cd_customize_overlay, false);\ndocument.addEventListener('DOMContentLoaded', cd_customize_forms, false);"]}